<!-- Sidebar -->
<div class="pr-12 bg-slate-200 max-md:pr-5">
    <div class="flex gap-5 max-md:flex-col max-md:gap-0">
        <div class="flex flex-col w-1/4 max-md:w-full">
        <div class="flex flex-col grow items-start py-20 pr-20 pl-6 w-full text-xl font-semibold text-white bg-slate-700 max-md:px-5 max-md:mt-7">
            <div class="self-center text-4xl font-extrabold">SIBACA</div>
            <div class="flex gap-5 mt-11 whitespace-nowrap max-md:mt-10">
                <img
                loading="lazy"
                src="https://cdn.builder.io/api/v1/image/assets/TEMP/b60de2b05833aae014f700c15004065d740f7d013e04abe31fc4ffff3485b48b?"
                class="shrink-0 aspect-[1.03] w-[30px]"/>
                <div class="flex-auto my-auto"><a href="DashboardAdmin">Dashboard</a></div>
            </div>

            <div class="flex gap-5 mt-9">
                <img
                loading="lazy"
                src="https://cdn.builder.io/api/v1/image/assets/TEMP/10ca86c0fa9f5c4743f2eac8520827b728b57241d504744cbd15b00d130920c4?"
                class="shrink-0 aspect-[0.86] w-[25px]"/>
                <div class="flex-auto my-auto"><a href="ListPeminjaman">Data Peminjaman</a></div>
            </div>

            <div class="flex gap-5 mt-9">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" id="Zip-File-Edit--Streamline-Ultimate" height="60" width="60">
                <desc>Zip File Edit Streamline Icon: https://streamlinehq.com</desc>
                <g><path d="M30 18.450000000000003V8.683333333333334a2.5 2.5 0 0 0 -0.7333333333333334 -1.7666666666666668L23.083333333333332 0.7333333333333334A2.5 2.5 0 0 0 21.316666666666666 0H2.5A2.5 2.5 0 0 0 0 2.5v31.666666666666668A2.5 2.5 0 0 0 2.5 36.66666666666667h13.433333333333335a0.4 0.4 0 0 0 0.4 -0.33333333333333337l0.8166666666666667 -4.066666666666666a3.3333333333333335 3.3333333333333335 0 0 1 0.9166666666666667 -1.6666666666666667l11.816666666666666 -11.816666666666666a0.43333333333333335 0.43333333333333335 0 0 0 0.11666666666666668 -0.33333333333333337ZM10 30.833333333333336a1.6666666666666667 1.6666666666666667 0 1 1 1.6666666666666667 -1.6666666666666667 1.6666666666666667 1.6666666666666667 0 0 1 -1.6666666666666667 1.6666666666666667ZM10 25a1.6666666666666667 1.6666666666666667 0 1 1 1.6666666666666667 -1.6666666666666667 1.6666666666666667 1.6666666666666667 0 0 1 -1.6666666666666667 1.6666666666666667Zm0 -5.833333333333334a1.6666666666666667 1.6666666666666667 0 1 1 1.6666666666666667 -1.6666666666666667 1.6666666666666667 1.6666666666666667 0 0 1 -1.6666666666666667 1.6666666666666667Zm2.5 -8.166666666666668a3.3333333333333335 3.3333333333333335 0 0 1 -2.5 1.1166666666666667 3.3333333333333335 3.3333333333333335 0 0 1 -2.5166666666666666 -1.1166666666666667A3.3333333333333335 3.3333333333333335 0 0 1 6.666666666666667 8.416666666666666l0.8166666666666667 -5.216666666666667A0.8166666666666667 0.8166666666666667 0 0 1 8.333333333333334 2.5h3.3333333333333335a0.8500000000000001 0.8500000000000001 0 0 1 0.8333333333333334 0.7L13.333333333333334 8.333333333333334a3.3333333333333335 3.3333333333333335 0 0 1 -0.8166666666666667 2.666666666666667Z" fill="#ffffff" stroke-width="1"></path>
                <path d="M20.1 33.55a0.4166666666666667 0.4166666666666667 0 0 0 -0.7 0.21666666666666667L18.333333333333336 39a0.8500000000000001 0.8500000000000001 0 0 0 0.23333333333333336 0.75 0.7833333333333333 0.7833333333333333 0 0 0 0.5833333333333334 0.25h0.16666666666666669l5.233333333333333 -1.05a0.4166666666666667 0.4166666666666667 0 0 0 0.21666666666666667 -0.7Z" fill="#ffffff" stroke-width="1"></path>
                <path d="M38.333333333333336 19.316666666666666a4.533333333333334 4.533333333333334 0 0 0 -6 0.45000000000000007l-10.966666666666667 10.966666666666667a0.4166666666666667 0.4166666666666667 0 0 0 0 0.6l5.583333333333334 5.583333333333334a0.4166666666666667 0.4166666666666667 0 0 0 0.6 0l11.133333333333333 -11.133333333333333a4.383333333333334 4.383333333333334 0 0 0 -0.35 -6.466666666666667Z" fill="#ffffff" stroke-width="1"></path></g></svg>
                <div class="flex-auto my-auto"><a href="ListPerpanjangan">Data Perpanjangan Peminjaman</a></div>
            </div>

            <div class="flex gap-5 mt-8">
                <img
                loading="lazy"
                src="https://cdn.builder.io/api/v1/image/assets/TEMP/7089de8e39479018adcd656b47318a42920e119966f6c5dd3b5cc790b623c66e?"
                class="shrink-0 aspect-[0.86] w-[25px]"/>
                <div class="flex-auto"><a href="ListPengembalian">Data Pengembalian</a></div>
            </div>
        
            <div class="flex gap-5 mt-8">
                <img
                loading="lazy"
                src="https://cdn.builder.io/api/v1/image/assets/TEMP/e365d1cf19fd1044d2daa4f94170b7f2820a62d9c007c82d8d8a3d92dc531247?"
                class="shrink-0 aspect-[0.86] w-[25px]"/>
                <div class="flex-auto"><a href="DataBuku">Data Buku</a></div>
            </div>

            <div class="flex gap-4 mt-7 whitespace-nowrap">
                <img
                loading="lazy"
                src="https://cdn.builder.io/api/v1/image/assets/TEMP/c48306110fc090c44783725041e9a4a01f51f1f38c250b2ad64a43c1789ebd38?"
                class="shrink-0 aspect-square w-[29px]"/>
                <div class="flex-auto my-auto"><a href="ProfileAdmin">Profile</a></div>
            </div>

            <div class="flex gap-5 mt-9">
                <img
                loading="lazy"
                src="https://cdn.builder.io/api/v1/image/assets/TEMP/3a33e1545f0e1600b4a06c1ea80cb88c0790aa555d25c184928c8945a1779dba?"
                class="shrink-0 aspect-[1.14] w-[33px]"/>
                <div class="flex-auto my-auto"><a href="/logout">Log Out</a></div>
            </div>
        </div>
    </div>
<!-- End Sidebar -->

<!-- Content-->
<section class="flex items-start justify-end rounded-2xl ml-70 mx-auto pt-10">
    <div class="container">
        <main class="flex-1">
            <h2 class="text-3xl font-bold mb-4">List Peminjaman</h2>
            <table class="w-full bg-white shadow-md rounded">
                <thead class="bg-[#9DB2BF]">
                    <tr>
                        <th class="py-2 px-4">NIM</th>
                        <th class="py-2 px-4">Nama Anggota</th>
                        <th class="py-2 px-4">Id Buku</th>
                        <th class="py-2 px-4">Judul Buku</th>
                        <th class="py-2 px-4">Durasi</th>
                        <th class="py-2 px-4">Kode Peminjaman</th>
                        <th class="py-2 px-4">Aksi</th>
                    </tr>
                </thead>
                
                <tbody id="loan-list">

                </tbody>
            </table>
        </main>
    </div>
</section>
<!-- End Content-->

<!-- Confirmation Modal -->
<div id="confirmationModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden">
    <div class="bg-[#9DB2BF] p-10 rounded shadow-lg text-center">
        <p class="text-slate-800">Apakah Anda yakin untuk mengonfirmasi peminjaman?</p>
        <button id="confirmButton" class="bg-slate-700 text-white px-4 py-2 rounded mt-4">Konfirmasi</button>
        <button id="cancelButton" class="bg-slate-700 text-white px-4 py-2 rounded mt-4">Batal</button>
    </div>
</div>

<!-- Rejection Modal -->
<div id="rejectionModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden">
    <div class="bg-[#9DB2BF] p-10 rounded shadow-lg text-center">
        <p class="text-slate-800">Apakah Anda yakin untuk menolak peminjaman?</p>
        <button id="rejectButton" class="bg-slate-700 text-white px-4 py-2 rounded mt-4">Tolak</button>
        <button id="cancelRejectButton" class="bg-slate-700 text-white px-4 py-2 rounded mt-4">Batal</button>
    </div>
</div>

<!-- Success Modal -->
<div id="successModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden">
    <div class="bg-[#9DB2BF] p-8 rounded shadow-lg text-center">
        <p id="successMessage"></p>
        <button id="okButton" class="bg-slate-700 text-white px-4 py-2 rounded mt-4">OK</button>
    </div>
</div>


<script>
    document.addEventListener('DOMContentLoaded', () => 
    {
        // data
        const loans = [
            {nim: '2211522031', name: 'Agif', bookId: 'PB0001', title: 'Matematika Diskrit', duration: '6 Hari', code: 'BS001'},
            {nim: '2211522027', name: 'Hita', bookId: 'PB0002', title: 'enchanted talisman', duration: '3 Hari', code: 'BS002'},
            {nim: '2211522015', name: 'Yani', bookId: 'PB0003', title: 'Computer Enginneering', duration: '4 Hari', code: 'BS003'}
            
        ];

        const loanList = document.getElementById('loan-list');
        loans.forEach(loan => 
        {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td class="py-2 px-4">${loan.nim}</td>
                <td class="py-2 px-4">${loan.name}</td>
                <td class="py-2 px-4">${loan.bookId}</td>
                <td class="py-2 px-4">${loan.title}</td>
                <td class="py-2 px-4">${loan.duration}</td>
                <td class="py-2 px-4">${loan.code}</td>
                <td class="py-2 px-4">
                    <button class="confirmButton bg-[#9DB2BF] text-white px-4 py-2 rounded">Konfirmasi</button>
                    <button class="rejectButton bg-[#9DB2BF] text-white px-4 py-2 rounded">Tolak</button>
                </td>
            `;
            loanList.appendChild(row);
        });

        const confirmationModal = document.getElementById('confirmationModal');
        const rejectionModal = document.getElementById('rejectionModal');
        const successModal = document.getElementById('successModal');
        const successMessage = document.getElementById('successMessage');

        document.addEventListener('click', (event) => 
        {
            if (event.target.classList.contains('confirmButton')) {
                confirmationModal.classList.remove('hidden');
            } else if (event.target.classList.contains('rejectButton')) {
                rejectionModal.classList.remove('hidden');
            } else if (event.target.id === 'confirmButton') {
                confirmationModal.classList.add('hidden');
                successMessage.textContent = 'Peminjaman Berhasil Dikonfirmasi!';
                successModal.classList.remove('hidden');
            } else if (event.target.id === 'rejectButton') {
                rejectionModal.classList.add('hidden');
                successMessage.textContent = 'Peminjaman Berhasil Ditolak!';
                successModal.classList.remove('hidden');
            } else if (event.target.id === 'cancelButton' || event.target.id === 'cancelRejectButton') {
                confirmationModal.classList.add('hidden');
                rejectionModal.classList.add('hidden');
            } else if (event.target.id === 'okButton') {
                successModal.classList.add('hidden');
            }
        }
        );
    })
    ;
    
</script>
